<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta content="The online musing of Brendon Murphy" name="description" />
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <link href="/css/pygment_trac.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <link rel="alternate" type="application/atom+xml" title="Brendon Murphy - Atom" href="http://feeds.feedburner.com/techfreaknet" />
    <title>Brendon Murphy &ndash; NotNot Alternative</title>
  </head>
  <body>
    <header>
    <h1 id="title">
      <a href="/about.html" title="About">Brendon Murphy</a> writes <a href="/" title="Home">here</a>.
    </h1>
    <h2 id="subtitle">
      See also the <a href="/archive.html" title="Archive">archive</a> &amp;
      <a href="/miscellaneous.html">miscellaneous</a>.
    </h2>
    </header>
    <sidebar id="sidebar">

      <div id="sidebar-about" class="sidebar-item">
        <p>My experience runs from unix & linux system administration, to programming for the web.  I'm a firm believer in open source, and spend much of my time these days in Ruby.</p>

        <p>My passions include git, github, rspec, rails, jQuery, programming in general, and my girlfriend Arielle.</p>

        <p>I like to hang out with other Ruby-ists in Orange County.  You can connect with us at the monthly <a href="http://www.meetup.com/ocruby/">OC Ruby Users Group</a>.  We'd love to see you there.</p>
      </div>

      <div id="working-with-rails" class="sidebar-item">
        WorkingWithRails is the online home of the world's community of Ruby on Rails users. Go <a href="http://workingwithrails.com/person/19061-brendon-murphy">check my profile there.</a>
      </div>

      <div class="sidebar-item" id="social">
        <a href="http://feeds.feedburner.com/Techfreaknet" rel="alternate" type="application/rss+xml"><img src="http://www.feedburner.com/fb/images/pub/feed-icon32x32.png" alt="" style="vertical-align:middle;border:0"/></a>&nbsp;<a href="http://feeds.feedburner.com/Techfreaknet" class="center" rel="alternate" type="application/rss+xml">Subscribe to my feed</a>

        <a href="http://twitter.com/xternal"><img src="/images/t_logo-b32x32.png" alt="" style="vertical-align:middle;border:0"/></a>&nbsp;<a href="http://twitter.com/xternal" class="center" rel="alternate">Follow me on Twitter</a>

        <div id="tweet">
          <p>Please wait while my tweets load <img src="/images/indicator.gif" /></p>
          <p><a href="http://twitter.com/xternal">If you can't wait - check out what I've been twittering</a></p>
        </div>
      </div>

      <div class="sidebar-item" id="goodreads">
        <div id="currently_reading">Currently Reading</div>
        <style type="text/css" media="screen">
          .gr_grid_container { /* customize grid container div here. eg: width: 500px; */ } 
          .gr_grid_book_container { /* customize book cover container div here */ 
            float: left; 
            width: 39px; 
            height: 60px; 
            padding: 0px 0px;
            overflow: hidden; 
          }
        </style>
        <div id="gr_grid_widget_1311841551">
          <!-- Show static html as a placeholder in case js is not enabled - javascript include will override this if things work -->

          <div class="gr_grid_container">
          </div>
          }
        </div>
        <script src="http://www.goodreads.com/review/grid_widget/2728801.Brendon's%20currently-reading%20book%20montage?cover_size=small&amp;hide_link=true&amp;hide_title=true&amp;num_books=12&amp;order=d&amp;shelf=currently-reading&amp;sort=date_added&amp;widget_id=1311841551" type="text/javascript" charset="utf-8"></script>

        <div id="recently_read">Recently Read</div>
        <style type="text/css" media="screen">
          .gr_grid_container { /* customize grid container div here. eg: width: 500px; */ } 
          .gr_grid_book_container { /* customize book cover container div here */ 
            float: left; 
            width: 39px; 
            height: 60px; 
            padding: 0px 0px;
            overflow: hidden; 
          }
        </style>
        <div id="gr_grid_widget_1311841495">
          <!-- Show static html as a placeholder in case js is not enabled - javascript include will override this if things work -->

          <div class="gr_grid_container">
          </div>
          }
        </div>
        <script src="http://www.goodreads.com/review/grid_widget/2728801.Brendon's%20read%20book%20montage?cover_size=small&amp;hide_link=false&amp;hide_title=true&amp;num_books=12&amp;order=d&amp;shelf=read&amp;sort=date_added&amp;widget_id=1311841495" type="text/javascript" charset="utf-8"></script>
      </div>

    </sidebar>

    <div id="wrapper">
      <div class="post">
  <h1>
    NotNot Alternative
  </h1>
  <p>There&#8217;s a common ruby convention out there, I call it NotNot.  You&#8217;ll find it often in predicate methods, and it looks like it sounds, &#8216;!!&#8217;.  I suppose you could call it &#8220;Bang Bang&#8221;, or perhaps it has a real name I&#8217;m not aware of.</p>
<p>I don&#8217;t like NotNot, primarily I think because in my head it seems like the dreaded English grammar double negative.  In other words, it&#8217;s just weird.</p>
<p>The point of the NotNot is for your classes to return true/false, rather than just truthy/falsy.  Let&#8217;s start with a simple example predicate:</p>
<script src="https://gist.github.com/1109678.js?file=first_example.rb"></script><p>What?  That looks kind of strange, however, it will pass conditional tests, since ruby treats the values nil and false both as falsy values, while other values as truthy.  But again, the returns look weird.  Enter the NotNot:</p>
<script src="https://gist.github.com/1109678.js?file=second_example.rb"></script><p>Hey, those returns looks better, I see we&#8217;re getting back real true/false which is really what we want.  But that NotNot looks weird.  Think about it in your head, what&#8217;s the value of not not false&#8230;uh.</p>
<p>Say hello to the TrueClass#&amp; method.  The <a href="http://www.ruby-doc.org/core/classes/TrueClass.html#M000564">TrueClass RDoc states</a> that the &amp; method &#8220;Returns false if obj is nil or false, true otherwise.&#8221;</p>
<script src="https://gist.github.com/1109678.js?file=third_example.rb"></script><p>You&#8217;ll note we&#8217;re still getting back true/false.  The method is less terse than the NotNot, but I think slightly a better match intuitively.</p>
<p>In the end, it really boils down to style and readability.  If you code Ruby, while it&#8217;s important to know the NotNot, I&#8217;d advise something your brain doesn&#8217;t have to double unroll.</p>
<p>Hat tip to my friend <a href="http://www.billpratt.net/">Bill</a> for taking me straight from example 1 to 3 when I started in Ruby.</p>
  
  <p class="signoff">
    &mdash;Jul 27, 2011
  </p>
  
  <hr />
   <div id="disqus">
     <script>var no_disqus_developer = 1;</script>
     <div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/techfreak/embed.js"></script><noscript><a href="http://techfreak.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
   </div>
</div>


      <footer id="footer">
      <a href="/" title="Home">Home</a> &bull;
      <a href="/about.html" title="About the author and site">About</a> &bull;
      <a href="/archive.html" title="Archived writing">Archive</a> &bull;
      <a href="/miscellaneous.html" title="Miscellaneous">Miscellaneous</a>

      <div id="cse" style="width: 100%;">Loading</div>
      <script src="http://www.google.com/jsapi" type="text/javascript"></script>
      <script type="text/javascript">
        google.load('search', '1', {language : 'en'});
        google.setOnLoadCallback(function() {
            var customSearchControl = new google.search.CustomSearchControl('003730570411629047560:hoyvw7xkswg');
            customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
            customSearchControl.draw('cse');
            }, true);
</script>
<link rel="stylesheet" href="http://www.google.com/cse/style/look/minimalist.css" type="text/css" />
<style>
  .gsc-control-cse { padding-left: 0px; }
  .gsc-control-cse a:link, .gsc-control-cse a:hover { color: #336699; }
</style>
</footer>
    </div>
    <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-15226195-1");
pageTracker._trackPageview();
} catch(err) {}</script>

    <script src="http://twitterjs.googlecode.com/svn/trunk/src/twitter.min.js" type="text/javascript"></script>
<script>
  getTwitters('tweet', { 
    id: 'xternal', 
    count: 2, 
    enableLinks: true, 
    ignoreReplies: true, 
    clearContents: true,
    template: '"%text%" <a href="http://twitter.com/%user_screen_name%/statuses/%id%/"><span class="time">&ndash;%time%</span></a>'
  });  
</script>

    <script type="text/javascript">
//<[CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
		if(links[i].href.indexOf('#disqus_thread') >= 0) {
			query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
		}
	}
	document.write('<script type="text/javascript" src="http://disqus.com/forums/techfreak/get_num_replies.js' + query + '"></' + 'script>');
	})();
//]]>
</script>

  </body>
</html>
